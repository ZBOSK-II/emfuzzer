{
  "target": {
    "host": "192.168.143.83",
    "port": 5683
  },
  "case": {
    "delays": {
      "between_cases": 0.2,
      "before_sending": 1
    },
    "setups": [
      {
        "type": "subprocess",
        "name": "reset",
        "args": {
          "cmd": [
            "coap-client-notls",
            "coap://192.168.143.75/reset"
          ],
          "finish": {
            "timeout": 3,
            "signal": "NONE"
          },
          "shell": false
        }
      },
      {
        "type": "ping_alive",
        "name": "ping",
        "args": {
          "host": "192.168.143.83",
          "timeout": 30,
          "interval": 1
        }
      },
      {
        "type": "subprocess",
        "name": "coapp_board",
        "args": {
          "cmd": [
            "bash",
            "-c",
            "coap-client-notls coap://192.168.143.83/riot/board | diff - <(echo 'nucleo-f439zi')"
          ],
          "finish": {
            "timeout": 3,
            "signal": "NONE"
          },
          "shell": false
        }
      }
    ],
    "monitoring": [
      {
        "type": "remote",
        "name": "ledping",
        "args": {
          "command": "sudo ./ledping -p 17 -w 250",
          "start_key": "Rising edge detected, starting measurements.",
          "start_timeout": 2,
            "finish": {
                "timeout": 2,
                "signal": "SIGINT"
            },
          "connection": {
            "host": "192.168.143.88",
            "port": 22,
            "username": "pi",
            "password": "raspberry"
          }
        }
      }
    ],
    "checks": [
      {
        "type": "ping_stable",
        "name": "ping",
        "args": {
          "host": "192.168.143.83",
          "count": 2,
          "interval": 1
        }
      },
      {
        "type": "subprocess",
        "name": "coapp_board",
        "args": {
          "cmd": [
            "bash",
            "-c",
            "coap-client-notls coap://192.168.143.83/riot/board | diff - <(echo 'nucleo-f439zi')"
          ],
          "finish": {
            "timeout": 3,
            "signal": "NONE"
          },
          "shell": false
        }
      }
    ]
  },
  "coapp": {
    "validator": {
      "timeout": 5
    }
  }
}
